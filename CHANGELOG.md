# 📋 更新日志 (Changelog)

本文档记录了Apple Store库存监控系统的所有重要更新和变更。

---

## [v1.1.0] - 2025-10-07

### ✨ 新增功能
- 🌐 **完善Windows部署支持**
  - 新增详细的Windows部署指南
  - 支持Python 3.8-3.13多版本
  - 提供pip问题完整解决方案
  
- 📦 **优化依赖管理**
  - 更新requirements.txt，使用灵活版本约束（`>=`替代`==`）
  - 提升跨Python版本兼容性
  - 支持Python 3.13最新版本

- 📖 **文档体系完善**
  - 新增《Windows部署指南.md》
  - 新增《pip命令问题解决方案.md》
  - 新增《pip安装无反应问题排查.md》
  - 新增《requirements依赖更新说明.md》
  - 新增《requirements更新完成报告.md》

### 🔧 优化改进
- ⚡ **性能优化**
  - 请求延迟调整：从3-6秒优化到1.5-2.5秒
  - 检查间隔标准化：统一设置为15秒
  - 请求频率计算修正：正确计算考虑随机延迟的频率

- 🎨 **用户体验提升**
  - 所有启动页面添加版本号显示（v1.1.0）
  - 添加版权信息：骑着大鹅追大奔
  - 优化配置摘要的请求频率展示

### 🐛 Bug修复
- 修复请求频率计算不准确问题（未考虑随机延迟）
- 修复启动页面版本号显示缺失问题
- 修复Python 3.13依赖包安装失败问题

### 📝 配置变更
- **中国大陆区**
  - 请求延迟：3-6秒 → 1.5-2.5秒（精确到毫秒）
  - 检查间隔：60秒 → 15秒
  - 请求频率：从~16次/分钟调整为实际计算值

### 📚 文档更新
- 更新README.md，添加Windows部署说明
- 新增多个专项文档支持不同场景
- 完善故障排查文档

### 🔐 安全性
- 依赖包版本策略调整，可及时获取安全补丁
- 保持最低版本要求，确保功能稳定性

---

## [v1.0.0] - 2025-10-06

### ✨ 初始版本发布

#### 核心功能
- 🍎 **Apple Store库存监控**
  - 支持中国大陆和香港两个区域
  - 实时监控iPhone库存变化
  - 智能防爬虫策略

- 📱 **多产品支持**
  - 支持iPhone 16系列全型号
  - 支持iPhone 17系列全型号
  - 跨系列产品选择功能

- 🏪 **多门店监控**
  - 支持中国大陆所有Apple Store
  - 支持香港所有Apple零售店
  - 单门店多产品监控

- 🔔 **智能通知**
  - 桌面通知（Mac/Windows）
  - 控制台彩色输出
  - 库存变化实时提醒

- 🛡️ **防爬虫策略**
  - 随机延迟请求（正态分布）
  - 随机打散请求顺序
  - 可配置检查间隔
  - 请求频率智能控制

#### 交互式功能
- 📋 **智能配置向导**
  - 中国大陆区交互式配置
  - 香港区交互式配置
  - 策略选择（保守/平衡/激进）
  - 配置摘要展示

- 🎯 **多启动方式**
  - 统一启动入口（start.py）
  - 区域快速启动（start_cn.py / start_hk.py）
  - 交互式配置启动

#### 技术特性
- 🐍 **Python环境**
  - Python 3.8+ 支持
  - 完整依赖包管理
  - 虚拟环境支持

- 🌐 **网络优化**
  - 支持国内镜像源
  - 网络异常重试机制
  - 超时控制

- 📊 **数据管理**
  - JSON配置文件
  - 库存历史记录
  - 日志文件管理

#### 文档完善
- 📖 基础文档
  - README.md - 项目介绍
  - INSTALL.md - 安装指南
  - QUICKSTART.md - 快速开始
  - CONTRIBUTING.md - 贡献指南

- 📝 专项文档
  - 香港配置iPhone16支持完成.md
  - 香港交互式配置开发完成报告.md
  - 统一入口使用指南.md
  - 交互式配置功能说明.md
  - API限制快速参考卡.md
  - 防爬虫规则_文档导航.md

- 🔧 技术文档
  - 逻辑和设计问题分析.md
  - 代码改进建议.md
  - 项目完整分析报告.md

#### 已知限制
- macOS通知需要pyobjus支持
- Windows通知依赖plyer库
- 部分门店ID可能需要验证

---

## 版本说明

### 版本号规则
采用语义化版本控制（Semantic Versioning）：`主版本.次版本.修订号`

- **主版本（Major）**：不兼容的API修改
- **次版本（Minor）**：向下兼容的功能新增
- **修订号（Patch）**：向下兼容的问题修正

### 更新类型标识
- ✨ **新增功能（Features）**：新功能或新特性
- 🔧 **优化改进（Enhancements）**：性能优化或体验提升
- 🐛 **Bug修复（Bug Fixes）**：问题修复
- 📝 **配置变更（Configuration）**：配置文件调整
- 📚 **文档更新（Documentation）**：文档相关更新
- 🔐 **安全性（Security）**：安全相关更新
- ⚠️ **废弃警告（Deprecated）**：即将移除的功能
- 🗑️ **移除功能（Removed）**：已移除的功能

---

## 升级指南

### 从 v1.0.0 升级到 v1.1.0

#### 1. 更新代码
```bash
git pull origin main
```

#### 2. 更新依赖
```bash
# Mac/Linux
pip install -r requirements.txt --upgrade

# Windows (Python 3.11)
py -3.11 -m pip install -r requirements.txt --upgrade

# Windows (Python 3.13)
python -m pip install -r requirements.txt --upgrade
```

#### 3. 配置调整（可选）
- 检查间隔已优化为15秒（如需修改，编辑config.json）
- 请求延迟已优化为1.5-2.5秒

#### 4. 重新运行
```bash
# Mac/Linux
python start.py

# Windows (Python 3.11)
py -3.11 start.py

# Windows (Python 3.13)
python start.py
```

---

## 路线图（Roadmap）

### v1.2.0（计划中）
- [ ] 添加Web界面支持
- [ ] 支持更多通知方式（邮件、Telegram等）
- [ ] 增加库存趋势分析
- [ ] 支持自动预约功能

### v1.3.0（计划中）
- [ ] 数据库存储支持
- [ ] 多用户配置管理
- [ ] RESTful API接口
- [ ] Docker容器化部署

### 未来规划
- [ ] 支持更多国家/地区
- [ ] 机器学习预测库存补货时间
- [ ] 移动端APP
- [ ] 云服务部署方案

---

## 获取帮助

### 问题反馈
如果遇到问题，请：
1. 查看相关文档（README.md、安装指南等）
2. 搜索已有的Issue
3. 创建新的Issue，详细描述问题

### 参与贡献
欢迎提交Pull Request！请参考CONTRIBUTING.md

### 联系方式
- 项目主页：https://github.com/ZoeRamirie/apple-store-monitor
- 版权所有：骑着大鹅追大奔

---

**感谢使用Apple Store库存监控系统！** 🎉

