# 🎯 交互式配置功能说明

## ✨ 新功能概述

全新的**交互式配置生成器**，让您轻松创建个性化的监控配置！

---

## 🚀 快速开始

### 使用方法

```bash
python3 start.py
→ 选择：1 (中国大陆)
→ 选择：1 (交互式配置) ⭐ 推荐
```

---

## 📋 配置流程

### 步骤1: 选择监控策略

系统提供5种预设策略：

#### 1️⃣ 保守策略（推荐新手）
```
• 单店 + 单品
• 检查间隔: 60秒
• 请求频率: 1次/分钟
• 风险等级: ✅ 极低
• 适合: 第一次使用、测试
```

#### 2️⃣ 平衡策略（推荐）⭐
```
• 2-3店 + 2-3品
• 检查间隔: 60秒  
• 请求频率: 4-9次/分钟
• 风险等级: ✅ 低
• 适合: 日常监控、一般用户
```

#### 3️⃣ 积极策略
```
• 3-5店 + 3-5品
• 检查间隔: 30秒
• 请求频率: 18-50次/分钟
• 风险等级: ⚠️ 中
• 适合: 需要快速响应、经验用户
```

#### 4️⃣ 激进策略（高风险）
```
• 5+店 + 5+品
• 检查间隔: 15秒
• 请求频率: 100+次/分钟
• 风险等级: ❌ 高（可能被限制）
• 适合: 紧急抢购、接受风险
```

#### 5️⃣ 自定义配置
```
• 完全自主配置
• 所有参数自行决定
• 系统仅提供建议和警告
• 适合: 高级用户、特殊需求
```

---

### 步骤2: 选择监控产品

#### 产品系列
```
1. iPhone 17 标准版
   • 白色/黑色
   • 128GB/256GB

2. iPhone 17 Plus
   • 白色/黑色
   • 128GB/256GB

3. iPhone 17 Pro
   • 钛原色/钛黑色
   • 128GB/256GB

4. iPhone 17 Pro Max
   • 钛原色/钛黑色
   • 256GB/512GB
```

#### 选择方式
```
• 单选: 输入数字（如: 1）
• 多选: 逗号分隔（如: 1,2,3）
• 全选: 输入最后一个选项数字
```

**示例：**
```
请选择型号（多选用逗号分隔，如: 1,2,3）: 1,3
→ 选择了第1和第3个型号
```

---

### 步骤3: 选择监控门店

#### 可选城市
```
1. Beijing（北京）
   • 三里屯 🔥
   • 王府井 🔥
   • 华贸购物中心 ⭐

2. Shanghai（上海）
   • 南京东路 🔥
   • 环贸iapm 🔥
   • 浦东 ⭐

3. Shenzhen（深圳）
   • 益田假日广场 🔥
   • 万象城 🔥

4. Guangzhou（广州）
   • 天环广场 🔥

5. Chengdu（成都）
   • 太古里 🔥

6. Hangzhou（杭州）
   • 万象城 ⭐
```

**热度标识：**
- 🔥 高人气门店（库存更新快）
- ⭐ 中等人气

#### 选择方式
```
• 单城市: 输入数字（如: 1）
• 多城市: 逗号分隔（如: 1,2）
• 全选: 输入最后一个选项数字
• 然后选择具体门店
```

---

### 步骤4: 设置检查间隔

#### 推荐值
```
• 60秒: ✅ 安全，推荐
• 30秒: ⚠️ 注意，可能触发限制
• 15秒: ❌ 危险，不推荐
• <15秒: 🚫 禁止（系统强制改为15秒）
```

#### 自定义间隔
```
请输入检查间隔（秒，直接回车使用推荐值）: 60
→ 使用60秒间隔
```

---

### 步骤5: 配置摘要和确认

系统会显示：

```
📊 配置摘要
======================================================================

监控产品 (2个):
  • iPhone 17 白色 128GB
  • iPhone 17 黑色 128GB

监控门店 (3个):
  • 北京三里屯 (北京)
  • 上海南京东路 (上海)
  • 深圳益田假日广场 (深圳)

监控参数:
  • 检查间隔: 60秒
  • 每轮请求: 6次
  • 请求频率: 6.0次/分钟 ✅ 安全
```

#### 风险警告

**如果配置高风险，会显示：**

```
======================================================================
⚠️ 警告: 当前配置存在高风险！
======================================================================

可能后果:
  • 触发API限制（HTTP 541）
  • IP被临时封禁
  • 监控失败

建议:
  • 减少产品或门店数量
  • 增加检查间隔（≥60秒）
  • 选择保守或平衡策略
======================================================================

确认使用此配置？(y/n):
```

**您可以选择：**
- `y` - 继续使用（自担风险）
- `n` - 取消，重新配置

---

## 🎯 使用场景示例

### 场景1: 新手测试
```
策略: 保守策略
产品: iPhone 17 白色 128GB（1个）
门店: 北京三里屯（1个）
间隔: 60秒
频率: 1次/分钟 ✅

适合: 第一次使用，熟悉系统
```

### 场景2: 日常监控
```
策略: 平衡策略
产品: iPhone 17 Pro Max 钛原色 256GB/512GB（2个）
门店: 北京三里屯、上海南京东路、深圳益田（3个）
间隔: 60秒
频率: 6次/分钟 ✅

适合: 日常使用，可靠稳定
```

### 场景3: 紧急抢购
```
策略: 积极策略
产品: iPhone 17 Pro Max 全系列（4个）
门店: 北上广深主要门店（5个）
间隔: 30秒
频率: 40次/分钟 ⚠️

适合: 新品发售，接受风险
```

### 场景4: 单店蹲守
```
策略: 自定义
产品: iPhone 17 Pro Max 钛原色 256GB（1个）
门店: 北京三里屯（1个）
间隔: 15秒
频率: 4次/分钟 ✅

适合: 盯紧某个特定门店
```

### 场景5: 单品多店
```
策略: 自定义
产品: iPhone 17 Pro Max 钛黑色 512GB（1个）
门店: 全国热门门店（10个）
间隔: 60秒
频率: 10次/分钟 ✅

适合: 全国范围找这一款
```

---

## ⚠️ 风险等级说明

### ✅ 安全（0-10次/分钟）
```
• 几乎不会触发限制
• 推荐长期使用
• 适合所有用户
```

### ⚠️ 注意（10-30次/分钟）
```
• 有一定风险
• 建议短期使用
• 需要关注API响应
```

### ❌ 危险（30次/分钟以上）
```
• 很可能触发限制
• 仅紧急情况使用
• 需要接受可能被封
```

---

## 💡 使用建议

### 推荐配置组合

#### 最安全（新手）
```
产品: 1个
门店: 1-3个
间隔: 60秒
频率: 1-3次/分钟
```

#### 平衡（推荐）
```
产品: 2-3个
门店: 2-3个
间隔: 60秒
频率: 4-9次/分钟
```

#### 积极（经验）
```
产品: 3-5个
门店: 3-5个
间隔: 30秒
频率: 18-50次/分钟
```

---

### 降低风险技巧

1. **增加检查间隔**
   ```
   30秒 → 60秒
   效果: 频率减半
   ```

2. **减少监控目标**
   ```
   5店×5品=25次 → 3店×3品=9次
   效果: 降低64%
   ```

3. **选择冷门时段**
   ```
   避开: 9:00-11:00, 20:00-22:00
   选择: 凌晨、午后
   ```

4. **定期休息**
   ```
   运行1小时 → 休息30分钟
   避免长时间高频请求
   ```

---

## 🔧 高级功能

### 1. 快速测试配置

```bash
# 测试模式（不保存）
python3 interactive_config.py
```

### 2. 导出配置

生成的配置会自动保存为：
- `config.json` - 用于start.py
- `config_custom.json` - 备份

### 3. 修改已有配置

如果需要调整：
```
1. 重新运行 start.py
2. 选择交互式配置
3. 重新生成
4. 覆盖原配置
```

---

## 📊 频率计算公式

```
请求频率 = 产品数 × 门店数 × (60 / 检查间隔)

示例:
3产品 × 3门店 × (60 / 60秒) = 9次/分钟
5产品 × 5门店 × (60 / 30秒) = 50次/分钟
```

---

## 🎊 总结

### 核心优势
✅ **人性化** - 引导式配置，清晰易懂
✅ **灵活性** - 5种策略 + 自定义
✅ **安全性** - 自动计算风险，及时警告
✅ **智能化** - 根据策略自动推荐参数

### 推荐使用
🌟 **新手** - 保守策略
🌟 **一般用户** - 平衡策略
🌟 **经验用户** - 积极策略或自定义

---

**开始使用：**
```bash
python3 start.py
```

**祝您抢购成功！** 🎉

